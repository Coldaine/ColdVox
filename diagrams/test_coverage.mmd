graph TD
    ROOT[ColdVox Workspace Root]:::none
    ROOT --> APP[coldvox-app]:::partial
    ROOT --> AUDIO[coldvox-audio]:::partial
    ROOT --> FOUNDATION[coldvox-foundation]:::none
    ROOT --> STT[coldvox-stt]:::partial
    ROOT --> STT_VOSK[coldvox-stt-vosk]:::none
    ROOT --> TELEMETRY[coldvox-telemetry]:::none
    ROOT --> TEXT_INJECTION[coldvox-text-injection]:::partial
    ROOT --> VAD[coldvox-vad]:::none
    ROOT --> VAD_SILERO[coldvox-vad-silero]:::none
    ROOT --> GUI[coldvox-gui]:::partial

    %% coldvox-app (partial ~55%)
    APP --> AUDIO_MOD[src/audio: Partial 70% vad_processor.rs_vad_adapter.rs]:::partial
    APP --> BIN_MOD[src/bin: None 0% mic_probe.rs - tui_dashboard.rs]:::none
    APP --> FOUNDATION_MOD[src/foundation: None 0% mod.rs]:::none
    APP --> HOTKEY_MOD[src/hotkey: Partial 50% backend.rs - listener.rs]:::partial
    APP --> PROBES_MOD[src/probes: Partial 60% mic_capture.rs - vad_mic.rs]:::partial
    APP --> STT_MOD[src/stt: Partial 80% processor.rs - vosk.rs]:::partial
    APP --> TELEMETRY_MOD[src/telemetry: None 0% mod.rs]:::none
    APP --> TEXT_INJECTION_MOD[src/text_injection: None 0% mod.rs]:::none
    APP --> VAD_MOD[src/vad: None 0% mod.rs]:::none
    APP --> RUNTIME_MOD[runtime.rs: Partial 40% init - shutdown]:::partial
    APP --> MAIN_MOD[main.rs: None 0%]:::none
    APP --> LIB_MOD[lib.rs: None 0%]:::none
    APP --> TESTS_UNIT[tests/unit: Partial 50% silence_detector_test.rs - watchdog_test.rs]:::partial
    APP --> TESTS_INTEGRATION[tests/integration: Partial 70% capture_integration_test.rs - text_injection_integration_test.rs]:::partial

    %% coldvox-audio (partial ~65%)
    AUDIO --> CAPTURE_MOD[src/capture.rs: Partial 60% basic - shutdown]:::partial
    AUDIO --> CHUNKER_MOD[src/chunker.rs: Partial 70% resampling - flush]:::partial
    AUDIO --> DETECTOR_MOD[src/detector.rs: Partial 50% is_silence]:::partial
    AUDIO --> DEVICE_MOD[src/device.rs: None 0% enumerate - open]:::none
    AUDIO --> FRAME_READER_MOD[src/frame_reader.rs: None 0% read_frame]:::none
    AUDIO --> MONITOR_MOD[src/monitor.rs: None 0% device_monitor]:::none
    AUDIO --> RESAMPLER_MOD[src/resampler.rs: Partial 60% process - reset]:::partial
    AUDIO --> RING_BUFFER_MOD[src/ring_buffer.rs: Partial 70% write - read]:::partial
    AUDIO --> WATCHDOG_MOD[src/watchdog.rs: Partial 80% start - stop - pet]:::partial
    AUDIO --> LIB_MOD_AUDIO[lib.rs: None 0%]:::none
    AUDIO --> TESTS_AUDIO[tests: Partial 60% device_hotplug_tests.rs]:::partial

    %% coldvox-foundation (none ~0%)
    FOUNDATION --> ERROR_MOD[src/error.rs: None 0%]:::none
    FOUNDATION --> HEALTH_MOD[src/health.rs: None 0%]:::none
    FOUNDATION --> SHUTDOWN_MOD[src/shutdown.rs: None 0%]:::none
    FOUNDATION --> STATE_MOD[src/state.rs: None 0%]:::none
    FOUNDATION --> LIB_MOD_FOUNDATION[lib.rs: None 0%]:::none

    %% coldvox-stt (partial ~45%)
    STT --> PLUGIN_MOD[src/plugin.rs: None 0%]:::none
    STT --> PLUGINS_MOD[src/plugins: Partial 40% mock.rs - noop.rs]:::partial
    STT --> PROCESSOR_MOD[src/processor.rs: Partial 70% run - handle_audio_frame]:::partial
    STT --> TYPES_MOD[src/types.rs: None 0%]:::none
    STT --> LIB_MOD_STT[lib.rs: None 0%]:::none
    STT --> TESTS_STT[tests: Partial 50% end_to_end_wav.rs]:::partial

    %% coldvox-stt-vosk (none ~0%)
    STT_VOSK --> LIB_MOD_STT_VOSK[lib.rs: None 0%]:::none
    STT_VOSK --> VOSK_TRANSCRIBER_MOD[src/vosk_transcriber.rs: None 0%]:::none

    %% coldvox-telemetry (none ~0%)
    TELEMETRY --> INTEGRATION_MOD[src/integration.rs: None 0%]:::none
    TELEMETRY --> METRICS_MOD[src/metrics.rs: None 0%]:::none
    TELEMETRY --> PIPELINE_METRICS_MOD[src/pipeline_metrics.rs: None 0%]:::none
    TELEMETRY --> STT_METRICS_MOD[src/stt_metrics.rs: None 0%]:::none
    TELEMETRY --> LIB_MOD_TELEMETRY[lib.rs: None 0%]:::none
    TELEMETRY --> EXAMPLES_TELEMETRY[examples: None 0% demo.rs - integration_example.rs]:::none

    %% coldvox-text-injection (partial ~55%)
    TEXT_INJECTION --> ATSP_MOD[src/atspi_injector.rs: Partial 60% inject_text]:::partial
    TEXT_INJECTION --> BACKEND_MOD[src/backend.rs: None 0% HotkeyBackend]:::none
    TEXT_INJECTION --> CLIPBOARD_MOD[src/clipboard_injector.rs: Partial 50% save_clipboard]:::partial
    TEXT_INJECTION --> COMBO_CLIP_ATSP_MOD[src/combo_clip_atspi.rs: Partial 60% inject]:::partial
    TEXT_INJECTION --> COMBO_CLIP_YDOT_MOD[src/combo_clip_ydotool.rs: Partial 60% inject]:::partial
    TEXT_INJECTION --> ENIGO_MOD[src/enigo_injector.rs: Partial 50% inject]:::partial
    TEXT_INJECTION --> FOCUS_MOD[src/focus.rs: None 0% FocusProvider]:::none
    TEXT_INJECTION --> KDOTOOL_MOD[src/kdotool_injector.rs: Partial 50% inject]:::partial
    TEXT_INJECTION --> LIB_MOD_TEXT_INJECTION[lib.rs: None 0%]:::none
    TEXT_INJECTION --> MANAGER_MOD[src/manager.rs: Partial 70% inject - get_method_order]:::partial
    TEXT_INJECTION --> NOOP_MOD[src/noop_injector.rs: Partial 40% inject]:::partial
    TEXT_INJECTION --> PROCESSOR_MOD_TEXT[src/processor.rs: Partial 80% handle_transcription]:::partial
    TEXT_INJECTION --> SESSION_MOD[src/session.rs: Partial 50% add_transcription]:::partial
    TEXT_INJECTION --> TYPES_MOD_TEXT[src/types.rs: None 0% InjectionConfig]:::none
    TEXT_INJECTION --> TESTS_TEXT_INJECTION[tests: Partial 60% test_async_processor.rs - test_focus_enforcement.rs]:::partial
    TEXT_INJECTION --> TEST_APPS_TEXT_INJECTION[test-apps: Partial 50% terminal-test-app]:::partial

    %% coldvox-vad (none ~0%)
    VAD --> CONFIG_MOD[src/config.rs: None 0%]:::none
    VAD --> CONSTANTS_MOD[src/constants.rs: None 0%]:::none
    VAD --> ENERGY_MOD[src/energy.rs: None 0%]:::none
    VAD --> ENGINE_MOD[src/engine.rs: None 0%]:::none
    VAD --> STATE_MOD_VAD[src/state.rs: None 0%]:::none
    VAD --> THRESHOLD_MOD[src/threshold.rs: None 0%]:::none
    VAD --> TYPES_MOD_VAD[src/types.rs: None 0%]:::none
    VAD --> LIB_MOD_VAD[lib.rs: None 0%]:::none

    %% coldvox-vad-silero (none ~0%)
    VAD_SILERO --> CONFIG_MOD_SILERO[src/config.rs: None 0%]:::none
    VAD_SILERO --> LIB_MOD_VAD_SILERO[lib.rs: None 0%]:::none
    VAD_SILERO --> SILERO_WRAPPER_MOD[src/silero_wrapper.rs: None 0%]:::none

    %% coldvox-gui (partial ~20%)
    GUI --> BRIDGE_MOD[src/bridge.rs: None 0%]:::none
    GUI --> MAIN_MOD_GUI[src/main.rs: None 0%]:::none
    GUI --> BUILD_RS[build.rs: None 0%]:::none
    GUI --> CRATES_GUI[crates/coldvox-gui: Partial 30% qml]:::partial
    GUI --> DOCS_GUI[docs: None 0%]:::none
    GUI --> QML_GUI[qml: None 0%]:::none

    classDef none-coverage fill:#FFB6C1,stroke:#CD5C5C,stroke-width:2px,color:#fff
    classDef partial-coverage fill:#FFFF99,stroke:#DAA520,stroke-width:2px,color:#000
    classDef full-coverage fill:#90EE90,stroke:#228B22,stroke-width:2px,color:#000

    class ROOT,FOUNDATION,LIB_MOD_FOUNDATION,LIB_MOD_STT_VOSK,TELEMETRY,LIB_MOD_TELEMETRY,EXAMPLES_TELEMETRY,DEVICE_MOD,FRAME_READER_MOD,MONITOR_MOD,FOCUS_MOD,CONFIG_MOD,CONSTANTS_MOD,ENERGY_MOD,ENGINE_MOD,STATE_MOD_VAD,THRESHOLD_MOD,TYPES_MOD_VAD,LIB_MOD_VAD,CONFIG_MOD_SILERO,LIB_MOD_VAD_SILERO,SILERO_WRAPPER_MOD,BRIDGE_MOD,MAIN_MOD_GUI,BUILD_RS,DOCS_GUI,QML_GUI,TYPES_MOD_TEXT none-coverage
    class APP,AUDIO,STT,TEXT_INJECTION,GUI,VAD_SILERO partial-coverage
    class AUDIO_MOD,BIN_MOD,HOTKEY_MOD,PROBES_MOD,STT_MOD,TELEMETRY_MOD,TEXT_INJECTION_MOD,VAD_MOD,RUNTIME_MOD,MAIN_MOD,LIB_MOD,TESTS_UNIT,TESTS_INTEGRATION,CAPTURE_MOD,CHUNKER_MOD,DETECTOR_MOD,RING_BUFFER_MOD,WATCHDOG_MOD,LIB_MOD_AUDIO,TESTS_AUDIO,PLUGIN_MOD,PLUGINS_MOD,PROCESSOR_MOD,LIB_MOD_STT,TESTS_STT,ATSP_MOD,CLIPBOARD_MOD,COMBO_CLIP_ATSP_MOD,COMBO_CLIP_YDOT_MOD,ENIGO_MOD,KDOTOOL_MOD,LIB_MOD_TEXT_INJECTION,MANAGER_MOD,NOOP_MOD,PROCESSOR_MOD_TEXT,SESSION_MOD,TESTS_TEXT_INJECTION,TEST_APPS_TEXT_INJECTION,CRATES_GUI partial-coverage
