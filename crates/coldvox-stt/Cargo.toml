[package]
name = "coldvox-stt"
version = "0.1.0"
edition = "2021"
description = "Speech-to-text abstraction layer for ColdVox"

[dependencies]
tokio = { version = "1.35", features = ["sync", "macros", "time"] }
tracing = "0.1"
parking_lot = "0.12"
async-trait = "0.1"
thiserror = "2.0"
dirs = "5.0"
serde = { version = "1.0", features = ["derive"] }
coldvox-telemetry = { path = "../coldvox-telemetry", optional = true }
coldvox-audio = { path = "../coldvox-audio" }
parakeet-onnx = { package = "coldvox-stt-parakeet-onnx", path = "../coldvox-stt-parakeet-onnx", optional = true }

[features]
default = ["telemetry", "parakeet"]
telemetry = ["dep:coldvox-telemetry"]
parakeet = ["dep:parakeet-onnx"]
whisper = []
coqui = []
leopard = []
silero-stt = []

[dev-dependencies]
tokio = { version = "1.35", features = ["rt", "macros"] }
tracing-test = "0.2"
anyhow = "1.0"
futures = "0.3"
